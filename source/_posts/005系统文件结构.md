---
title: 005系统文件结构
date: 2017-07-10
tags:
- tech
- Linux
---

系统目录结构
ls命令
文件类型
alias命令

<!--more-->

## 目录像树
安装好centos7,开机进入系统。在终端中输入`ls /`，就stdout（标准输出）根下所有目录:
```
[root@centos ~]# ls /
bin   data  etc   lib    media  newdir  proc  run   srv  tmp  var
boot  dev   home  lib64  mnt    opt     root  sbin  sys  usr
```

linux不像windows化分c盘d盘等，它的文件系统是树型结构，最顶端是`/`（我们称为根）。文件结构就像下图：
![目录示例](http://pehjeua02.bkt.clouddn.com/626b65ac13d4aeb58f6f5323ae3d0aa6.png)

在linux上可以用`tree`命令查看树状目录结构图。如果终端提示早不到tree命令，使用`yum install -y tree`安装。

下面简单介绍下`/`下的目录：
```
/bin：bin是Binary的缩写，该目录下存放的是最常用的命令。

/boot：该目录下存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件。

/dev：dev是Device（设备）的缩写。该目录下存放的是Linux的外部设备。在Linux中，访问设备的方式和访问文件的方式是相同的。

/etc：该目录下存放的是所有系统管理所需要的配置文件和子目录。

/home：这是用户的主目录。在Linux中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的。

/lib和/lib64：这两个目录下存放的是系统最基本的动态连接共享库，其作用类似于Windows里的DLL文件，几乎所有的应用程序都需要用到这些共享库。其中/lib64为64位的软件包的库文件所在目录。

/media：系统会自动识别一些设备（如U盘、光驱等），当识别后，Linux会把识别的设备挂载到该目录下。

/mnt：系统提供该目录是为了让用户临时挂载别的文件系统。我们可以将光驱挂载到/mnt/上，然后进入该目录查看光驱里的内容。

/opt：这是给主机额外安装软件所设置的目录，该目录默认为空。比如你要安装一个ORACLE数据库，可以放到该目录下。

/proc：该目录是一个虚拟的目录，是系统内存的映射，我们可以通过直接访问来获取系统信息。该目录的内容在内存里，我们可以直接修改里面的某些文件。比如可以通过下面的命令来屏蔽主机的ping命令，使其他人无法ping你的机器。

/root：该目录是系统管理员的用户主目录。

/run：这里面存放的是一些服务的pid，一个服务启动完后，是有一个pid文件的。这个目录其实和/var/run是同一个目录，/run是后者的链接。

/sbin：s就是Super User的意思，该目录存放的是系统管理员使用的系统管理程序。

/srv：该目录存放的是一些服务启动之后需要提取的数据。

/sys：该目录存放的是与硬件驱动程序相关的信息。

/tmp：该目录是用来存放一些临时文件的。

/usr：这是一个非常重要的目录，类似于Windows下的Program Files目录，用户的很多应用程序和文件都存放在该目录下。

/usr/bin：该目录存放的是系统用户使用的应用程序。

/usr/sbin： 该目录存放的是超级用户使用的比较高级的管理程序和系统守护程序。

/usr/src ：该目录是内核源代码默认的放置目录。

/var：该目录存放的是在不断扩充且经常被修改的目录，包括各种日志文件或者pid文件，刚刚提到的/var/run就是在/var目录下面
```

在Linux系统中，有几个重要的目录需要注意，不要误删除或者随意更改其内部文件。下面阿铭再简单总结一下这几个重要的目录。

/etc目录下是系统的配置文件，如果更改了该目录下的某个文件可能会导致系统无法正常启动。

/bin、/sbin、/usr/bin和/usr/sbin目录是系统预设的执行文件的放置目录，其中/bin和/usr/bin目录下是供系统用户使用的指令（除root外的通用账户），而/sbin和/usr/sbin目录下则是供root使用的指令。比如ls指令就存放在/bin/目录下。

/var也是一个非常重要的目录，系统上运行各个程序时所产生的日志都被记录在该目录下（即/var/log目录中），另外mail指令的预设也放置在这里。

## ls命令
ls命令常用的选项有l、a、t、d、h。`ls -a`可以列出当前目录下所有的文件。`ls -t`以时间顺序列出当前目录下文件。`ls -d`查看目录，如果没有该选项就会列出该目录下的文件。`ls -l`列出当前目录下文件详细信息。h选项只能和l配合使用，作用是以合适的单位显示文件大小。

linux下命令的选项（option）是可以叠加配合使用的，比如`ls -ldh`会列出当前目录的详细信息。ls命令还有许多可以选项，学习linux不用着急记忆命令和选项，熟悉常用的就够了。在需要时，通过man命令或者网络查看就行。

## 文件类型
输入`ls -l`命令后会列出文件详细信息，有九列：
- 第一列是文件类型和权限
- 第二列是inode
- 第三列是文件所有者
- 第四列是文件所属组
- 第五列是文件大小
- 第六七八列是文件最后访问时间
- 第九列是文件名

## alias
刚刚使用的ls命令其实不是系统原汁原味的ls。不信，分别输入`ls`和`/usr/bin/ls`，大部份发行版是有不同的。

which命令可以显现我们输入`ls`的真身：
```
[root@centos ~]# which ls
alias ls='ls --color=auto'
	/usr/bin/ls
```

原来我们输入的ls被系统替换成单引号内的命令了。alias就是是设置别名的命令。我们可以通过它把常用的长命令替换成短命令，提高效率。比如`alias lt='ls -alt'`。如果想取消，使用`unalias lt='ls -alt'`。
